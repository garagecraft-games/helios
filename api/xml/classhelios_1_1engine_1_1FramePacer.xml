<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="classhelios_1_1engine_1_1FramePacer" kind="class" language="C++" prot="public">
    <compoundname>helios::engine::FramePacer</compoundname>
    <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="classhelios_1_1engine_1_1FramePacer_1a08c5f7072af7d40c420438cd40ac9472" prot="private" static="no" mutable="no">
        <type>std::unique_ptr&lt; <ref refid="classhelios_1_1util_1_1time_1_1Stopwatch" kindref="compound">helios::util::time::Stopwatch</ref> &gt;</type>
        <definition>std::unique_ptr&lt;helios::util::time::Stopwatch&gt; helios::engine::FramePacer::stopwatch_</definition>
        <argsstring></argsstring>
        <name>stopwatch_</name>
        <qualifiedname>helios::engine::FramePacer::stopwatch_</qualifiedname>
        <briefdescription>
<para>The stopwatch used for high-resolution time measurement. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/helios/engine/FramePacer.ixx" line="47" column="25" bodyfile="include/helios/engine/FramePacer.ixx" bodystart="47" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classhelios_1_1engine_1_1FramePacer_1a100210eb083957c7cb9e2c78914453b9" prot="private" static="no" mutable="no">
        <type>float</type>
        <definition>float helios::engine::FramePacer::targetFps_</definition>
        <argsstring></argsstring>
        <name>targetFps_</name>
        <qualifiedname>helios::engine::FramePacer::targetFps_</qualifiedname>
        <initializer>= 0.0f</initializer>
        <briefdescription>
<para>The target frame rate in Frames Per Second (FPS). </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/helios/engine/FramePacer.ixx" line="52" column="15" bodyfile="include/helios/engine/FramePacer.ixx" bodystart="52" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="classhelios_1_1engine_1_1FramePacer_1a6cfb7ba87a5da0cb5ab0a7c0ff5938fd" prot="public" static="no" const="no" explicit="yes" inline="no" virt="non-virtual">
        <type></type>
        <definition>helios::engine::FramePacer::FramePacer</definition>
        <argsstring>(std::unique_ptr&lt; helios::util::time::Stopwatch &gt; stopwatch)</argsstring>
        <name>FramePacer</name>
        <qualifiedname>helios::engine::FramePacer::FramePacer</qualifiedname>
        <param>
          <type>std::unique_ptr&lt; <ref refid="classhelios_1_1util_1_1time_1_1Stopwatch" kindref="compound">helios::util::time::Stopwatch</ref> &gt;</type>
          <declname>stopwatch</declname>
        </param>
        <briefdescription>
<para>Constructs a <ref refid="classhelios_1_1engine_1_1FramePacer" kindref="compound">FramePacer</ref> with the given stopwatch. </para>
        </briefdescription>
        <detaileddescription>
<para>Initializes a new <ref refid="classhelios_1_1engine_1_1FramePacer" kindref="compound">FramePacer</ref> instance in unlimited FPS mode (targetFps = 0.0f).</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>stopwatch</parametername>
</parameternamelist>
<parameterdescription>
<para>Unique pointer to a valid `Stopwatch` instance. Ownership is transferred to the <ref refid="classhelios_1_1engine_1_1FramePacer" kindref="compound">FramePacer</ref>. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/helios/engine/FramePacer.ixx" line="63" column="18"/>
      </memberdef>
      <memberdef kind="function" id="classhelios_1_1engine_1_1FramePacer_1ab6c8eedb96c5252dd75335e67cc082d1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void helios::engine::FramePacer::setTargetFps</definition>
        <argsstring>(float fps)</argsstring>
        <name>setTargetFps</name>
        <qualifiedname>helios::engine::FramePacer::setTargetFps</qualifiedname>
        <param>
          <type>float</type>
          <declname>fps</declname>
        </param>
        <briefdescription>
<para>Sets the desired target frame rate. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>fps</parametername>
</parameternamelist>
<parameterdescription>
<para>The target frame rate in Frames Per Second (FPS). Set to 0.0f to disable pacing (unlocked framerate). </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/helios/engine/FramePacer.ixx" line="71" column="14"/>
      </memberdef>
      <memberdef kind="function" id="classhelios_1_1engine_1_1FramePacer_1af108f079857c8a5cbbb674bfdd87fb47" prot="public" static="no" nodiscard="yes" const="yes" explicit="no" inline="no" noexcept="yes" virt="non-virtual">
        <type>float</type>
        <definition>float helios::engine::FramePacer::getTargetFps</definition>
        <argsstring>() const noexcept</argsstring>
        <name>getTargetFps</name>
        <qualifiedname>helios::engine::FramePacer::getTargetFps</qualifiedname>
        <briefdescription>
<para>Retrieves the current target frame rate. </para>
        </briefdescription>
        <detaileddescription>
<para>Returns the frame rate target that has been set for pacing, expressed in Frames Per Second (FPS). If the target frame rate is set to 0.0f, frame pacing is disabled, and the frame rate is unlocked.</para>
<para><simplesect kind="return"><para>The target frame rate in FPS.</para>
</simplesect>
<simplesect kind="note"><para>A return value of 0.0f indicates that the frame pacing mechanism is not active. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/helios/engine/FramePacer.ixx" line="84" column="16"/>
      </memberdef>
      <memberdef kind="function" id="classhelios_1_1engine_1_1FramePacer_1a6bd8aee9b1656f7e9731d74909823f14" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void helios::engine::FramePacer::beginFrame</definition>
        <argsstring>()</argsstring>
        <name>beginFrame</name>
        <qualifiedname>helios::engine::FramePacer::beginFrame</qualifiedname>
        <briefdescription>
<para>Marks the beginning of a new frame. </para>
        </briefdescription>
        <detaileddescription>
<para>Starts the internal stopwatch to begin measuring the frame&apos;s work time. This method must be called at the very beginning of each frame cycle, before any game logic, physics, or rendering operations. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/helios/engine/FramePacer.ixx" line="93" column="14"/>
        <references refid="classhelios_1_1engine_1_1FramePacer_1a6bd8aee9b1656f7e9731d74909823f14">beginFrame</references>
        <referencedby refid="classhelios_1_1engine_1_1FramePacer_1a6bd8aee9b1656f7e9731d74909823f14">beginFrame</referencedby>
      </memberdef>
      <memberdef kind="function" id="classhelios_1_1engine_1_1FramePacer_1a32ee1e380de39424a708a979a982d19d" prot="public" static="no" nodiscard="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structhelios_1_1engine_1_1FrameStats" kindref="compound">FrameStats</ref></type>
        <definition>FrameStats helios::engine::FramePacer::sync</definition>
        <argsstring>()</argsstring>
        <name>sync</name>
        <qualifiedname>helios::engine::FramePacer::sync</qualifiedname>
        <briefdescription>
<para>Synchronizes frame timing and returns frame statistics. </para>
        </briefdescription>
        <detaileddescription>
<para>Measures the elapsed work time since `beginFrame()`. If a target FPS is set and the work time is less than the target frame duration, this method sleeps the current thread to meet the target timing.</para>
<para><simplesect kind="return"><para>A `FrameStats` structure containing the total frame time (including wait), the actual work time (CPU processing), and the wait time (idle).</para>
</simplesect>
<simplesect kind="note"><para>If `targetFps` is 0.0f or the frame took longer than the target duration, no sleeping occurs, and `waitTime` in the returned stats will be 0.0f.</para>
</simplesect>
<xrefsect id="todo_1_todo000004"><xreftitle>Todo</xreftitle><xrefdescription><para>Implement hybrid spinning for the last millisecond of the wait time to improve timing precision and mitigate OS scheduler wake-up latency. </para>
</xrefdescription></xrefsect></para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/helios/engine/FramePacer.ixx" line="111" column="21"/>
        <references refid="classhelios_1_1engine_1_1FramePacer_1a32ee1e380de39424a708a979a982d19d">sync</references>
        <referencedby refid="classhelios_1_1engine_1_1FramePacer_1a32ee1e380de39424a708a979a982d19d">sync</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Controls and maintains a target frame rate through precise timing and pacing. </para>
    </briefdescription>
    <detaileddescription>
<para>The <ref refid="classhelios_1_1engine_1_1FramePacer" kindref="compound">FramePacer</ref> class utilizes a `Stopwatch` to measure frame execution time and introduces necessary sleep delays to maintain a consistent target frame rate. It returns detailed timing statistics via the `FrameStats` structure upon synchronization.</para>
<para>The pacing mechanism helps in achieving smoother frame delivery by minimizing jitter, although strict adherence depends on the OS scheduler&apos;s precision.</para>
<para><simplesect kind="note"><para>If `targetFps` is set to 0.0f, no frame pacing is performed, and frames run as fast as the hardware and OS allow (unlocked framerate).</para>
</simplesect>
<simplesect kind="par"><title>Usage Example:</title><para>```cpp auto stopwatch = std::make_unique&lt;helios::util::time::Stopwatch&gt;(); <ref refid="classhelios_1_1engine_1_1FramePacer" kindref="compound">FramePacer</ref> pacer(std::move(stopwatch)); pacer.setTargetFps(60.0f);</para>
</simplesect>
while (running) { pacer.beginFrame(); // ... game logic and rendering ... <ref refid="structhelios_1_1engine_1_1FrameStats" kindref="compound">FrameStats</ref> stats = pacer.sync(); } ``` </para>
    </detaileddescription>
    <location file="include/helios/engine/FramePacer.ixx" line="43" column="5" bodyfile="include/helios/engine/FramePacer.ixx" bodystart="43" bodyend="112"/>
    <listofallmembers>
      <member refid="classhelios_1_1engine_1_1FramePacer_1a6bd8aee9b1656f7e9731d74909823f14" prot="public" virt="non-virtual"><scope>helios::engine::FramePacer</scope><name>beginFrame</name></member>
      <member refid="classhelios_1_1engine_1_1FramePacer_1a6cfb7ba87a5da0cb5ab0a7c0ff5938fd" prot="public" virt="non-virtual"><scope>helios::engine::FramePacer</scope><name>FramePacer</name></member>
      <member refid="classhelios_1_1engine_1_1FramePacer_1af108f079857c8a5cbbb674bfdd87fb47" prot="public" virt="non-virtual"><scope>helios::engine::FramePacer</scope><name>getTargetFps</name></member>
      <member refid="classhelios_1_1engine_1_1FramePacer_1ab6c8eedb96c5252dd75335e67cc082d1" prot="public" virt="non-virtual"><scope>helios::engine::FramePacer</scope><name>setTargetFps</name></member>
      <member refid="classhelios_1_1engine_1_1FramePacer_1a08c5f7072af7d40c420438cd40ac9472" prot="private" virt="non-virtual"><scope>helios::engine::FramePacer</scope><name>stopwatch_</name></member>
      <member refid="classhelios_1_1engine_1_1FramePacer_1a32ee1e380de39424a708a979a982d19d" prot="public" virt="non-virtual"><scope>helios::engine::FramePacer</scope><name>sync</name></member>
      <member refid="classhelios_1_1engine_1_1FramePacer_1a100210eb083957c7cb9e2c78914453b9" prot="private" virt="non-virtual"><scope>helios::engine::FramePacer</scope><name>targetFps_</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
