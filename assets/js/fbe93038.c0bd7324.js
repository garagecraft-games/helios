"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[1133],{13504:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"testing","title":"Testing","description":"Running tests in helios: CTest usage, test patterns, debugging failures.","source":"@site/docs/testing.md","sourceDirName":".","slug":"/testing","permalink":"/docs/testing","draft":false,"unlisted":false,"editUrl":"https://github.com/thorstensuckow/helios/tree/main/website/docs/testing.md","tags":[{"inline":true,"label":"testing","permalink":"/docs/tags/testing"},{"inline":true,"label":"quality","permalink":"/docs/tags/quality"}],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Testing","description":"Running tests in helios: CTest usage, test patterns, debugging failures.","slug":"/testing","sidebar_label":"Testing","sidebar_position":3,"tags":["testing","quality"],"keywords":["helios","testing","ctest","unit tests"]},"sidebar":"tutorialSidebar","previous":{"title":"Spaceship Control","permalink":"/docs/examples/spaceship-control"},"next":{"title":"Overview","permalink":"/docs/contributing"}}');var i=n(74848),l=n(28453);const r={title:"Testing",description:"Running tests in helios: CTest usage, test patterns, debugging failures.",slug:"/testing",sidebar_label:"Testing",sidebar_position:3,tags:["testing","quality"],keywords:["helios","testing","ctest","unit tests"]},d="Testing",c={},o=[{value:"Running Tests",id:"running-tests",level:2},{value:"Running All Tests",id:"running-all-tests",level:3},{value:"Windows (Visual Studio)",id:"windows-visual-studio",level:4},{value:"Linux / macOS",id:"linux--macos",level:4},{value:"Running Specific Tests",id:"running-specific-tests",level:3},{value:"Test Configuration",id:"test-configuration",level:3},{value:"Build Configuration",id:"build-configuration",level:4},{value:"Test Output Options",id:"test-output-options",level:2},{value:"Example Test Session",id:"example-test-session",level:2},{value:"Debugging Failed Tests",id:"debugging-failed-tests",level:2},{value:"Verbose Output",id:"verbose-output",level:3},{value:"Running Test Executables Directly",id:"running-test-executables-directly",level:3},{value:"Windows",id:"windows",level:4},{value:"Linux / macOS",id:"linux--macos-1",level:4},{value:"Understanding Test Output",id:"understanding-test-output",level:3},{value:"Test Structure",id:"test-structure",level:2},{value:"Continuous Integration",id:"continuous-integration",level:2},{value:"Workflow Triggers",id:"workflow-triggers",level:3},{value:"Viewing Test Results",id:"viewing-test-results",level:3},{value:"Writing Tests",id:"writing-tests",level:2},{value:"Test Framework",id:"test-framework",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Platform-Specific Issues",id:"platform-specific-issues",level:3},{value:"Windows",id:"windows-1",level:4},{value:"Linux",id:"linux",level:4},{value:"See Also",id:"see-also",level:2}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"testing",children:"Testing"})}),"\n",(0,i.jsx)(s.p,{children:"helios includes a comprehensive test suite to verify functionality. This guide covers how to run tests, interpret results, and debug failures."}),"\n",(0,i.jsx)(s.h2,{id:"running-tests",children:"Running Tests"}),"\n",(0,i.jsx)(s.p,{children:"Tests are built automatically when you build the project with CMake."}),"\n",(0,i.jsx)(s.h3,{id:"running-all-tests",children:"Running All Tests"}),"\n",(0,i.jsx)(s.h4,{id:"windows-visual-studio",children:"Windows (Visual Studio)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-powershell",children:"cd build\nctest -C Release --output-on-failure\n"})}),"\n",(0,i.jsx)(s.h4,{id:"linux--macos",children:"Linux / macOS"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"cd build\nctest --output-on-failure\n"})}),"\n",(0,i.jsx)(s.h3,{id:"running-specific-tests",children:"Running Specific Tests"}),"\n",(0,i.jsx)(s.p,{children:"You can run tests matching a specific pattern:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Run all math-related tests\nctest -R "Math" --output-on-failure\n\n# Run a specific test\nctest -R "Vector3Test" --output-on-failure\n\n# List all available tests without running them\nctest -N\n'})}),"\n",(0,i.jsx)(s.h3,{id:"test-configuration",children:"Test Configuration"}),"\n",(0,i.jsx)(s.h4,{id:"build-configuration",children:"Build Configuration"}),"\n",(0,i.jsx)(s.p,{children:"Tests are built in the same configuration as the main project:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Debug build\ncmake -S . -B build -DCMAKE_BUILD_TYPE=Debug\ncmake --build build --config Debug\ncd build\nctest -C Debug --output-on-failure\n\n# Release build\ncmake -S . -B build -DCMAKE_BUILD_TYPE=Release\ncmake --build build --config Release\ncd build\nctest -C Release --output-on-failure\n"})}),"\n",(0,i.jsx)(s.h2,{id:"test-output-options",children:"Test Output Options"}),"\n",(0,i.jsx)(s.p,{children:"CTest provides several options to control output:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Flag"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--output-on-failure"})}),(0,i.jsx)(s.td,{children:"Show detailed output only for failed tests"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsxs)(s.td,{children:[(0,i.jsx)(s.code,{children:"-V"})," or ",(0,i.jsx)(s.code,{children:"--verbose"})]}),(0,i.jsx)(s.td,{children:"Show all test output (useful for debugging)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--rerun-failed"})}),(0,i.jsx)(s.td,{children:"Re-run only tests that failed in the previous run"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"-N"})}),(0,i.jsx)(s.td,{children:"List all tests without running them"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"-R <regex>"})}),(0,i.jsx)(s.td,{children:"Run tests matching the regex pattern"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"-E <regex>"})}),(0,i.jsx)(s.td,{children:"Exclude tests matching the regex pattern"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--timeout <seconds>"})}),(0,i.jsx)(s.td,{children:"Set a timeout for each test"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"example-test-session",children:"Example Test Session"}),"\n",(0,i.jsx)(s.p,{children:"Here's what a successful test run looks like:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ cd build\n$ ctest -C Release --output-on-failure\nTest project F:/thorstensuckow/helios/build\n    Start 1: Vector3Test\n1/12 Test #1: Vector3Test ......................   Passed    0.02 sec\n    Start 2: Vector4Test\n2/12 Test #2: Vector4Test ......................   Passed    0.02 sec\n    Start 3: Matrix4Test\n3/12 Test #3: Matrix4Test ......................   Passed    0.03 sec\n    Start 4: TransformTest\n4/12 Test #4: TransformTest ....................   Passed    0.01 sec\n    Start 5: CameraTest\n5/12 Test #5: CameraTest .......................   Passed    0.02 sec\n    Start 6: SceneGraphTest\n6/12 Test #6: SceneGraphTest ...................   Passed    0.04 sec\n    Start 7: RenderingTest\n7/12 Test #7: RenderingTest ....................   Passed    0.05 sec\n    Start 8: MaterialTest\n8/12 Test #8: MaterialTest .....................   Passed    0.03 sec\n    Start 9: InputTest\n9/12 Test #9: InputTest ........................   Passed    0.02 sec\n   Start 10: GuidTest\n10/12 Test #10: GuidTest .........................   Passed    0.01 sec\n   Start 11: FileReaderTest\n11/12 Test #11: FileReaderTest ...................   Passed    0.02 sec\n   Start 12: LoggerTest\n12/12 Test #12: LoggerTest .......................   Passed    0.01 sec\n\n100% tests passed, 0 tests failed out of 12\n\nTotal Test time (real) =   0.28 sec\n"})}),"\n",(0,i.jsx)(s.h2,{id:"debugging-failed-tests",children:"Debugging Failed Tests"}),"\n",(0,i.jsx)(s.h3,{id:"verbose-output",children:"Verbose Output"}),"\n",(0,i.jsx)(s.p,{children:"If a test fails, use verbose mode to see detailed output:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'ctest -R "FailedTestName" -V\n'})}),"\n",(0,i.jsx)(s.h3,{id:"running-test-executables-directly",children:"Running Test Executables Directly"}),"\n",(0,i.jsx)(s.p,{children:"You can also run test executables directly for more control:"}),"\n",(0,i.jsx)(s.h4,{id:"windows",children:"Windows"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-powershell",children:"# Debug build\n.\\tests\\helios\\math\\Debug\\Vector3Test.exe\n\n# Release build\n.\\tests\\helios\\math\\Release\\Vector3Test.exe\n"})}),"\n",(0,i.jsx)(s.h4,{id:"linux--macos-1",children:"Linux / macOS"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Run test directly\n./tests/helios/math/Vector3Test\n\n# With valgrind for memory leak detection\nvalgrind ./tests/helios/math/Vector3Test\n"})}),"\n",(0,i.jsx)(s.h3,{id:"understanding-test-output",children:"Understanding Test Output"}),"\n",(0,i.jsx)(s.p,{children:"Failed tests will show:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Expected vs. Actual values"})," - What the test expected and what it got"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Stack trace"})," - Where the failure occurred in the code"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Test name"})," - Which specific test case failed"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Example of a failed test:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Test project F:/thorstensuckow/helios/build\n    Start 1: Vector3Test\n1/1 Test #1: Vector3Test ......................***Failed    0.02 sec\n\nRunning main() from gtest_main.cc\n[==========] Running 5 tests from 1 test suite.\n[----------] Global test environment set-up.\n[----------] 5 tests from Vector3\n[ RUN      ] Vector3.Addition\n[       OK ] Vector3.Addition (0 ms)\n[ RUN      ] Vector3.Subtraction\n[       OK ] Vector3.Subtraction (0 ms)\n[ RUN      ] Vector3.Multiplication\nF:/thorstensuckow/helios/tests/helios/math/Vector3Test.cpp:42: Failure\nExpected equality of these values:\n  result.x\n    Which is: 2.5\n  2.0\n    Which is: 2\n\n[  FAILED  ] Vector3.Multiplication (1 ms)\n"})}),"\n",(0,i.jsx)(s.h2,{id:"test-structure",children:"Test Structure"}),"\n",(0,i.jsx)(s.p,{children:"helios tests are organized by module:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"tests/\n\u251c\u2500\u2500 helios/\n\u2502   \u251c\u2500\u2500 math/           # Math library tests\n\u2502   \u2502   \u251c\u2500\u2500 Vector3Test.cpp\n\u2502   \u2502   \u251c\u2500\u2500 Vector4Test.cpp\n\u2502   \u2502   \u251c\u2500\u2500 Matrix4Test.cpp\n\u2502   \u2502   \u2514\u2500\u2500 TransformTest.cpp\n\u2502   \u251c\u2500\u2500 scene/          # Scene graph tests\n\u2502   \u2502   \u251c\u2500\u2500 SceneTest.cpp\n\u2502   \u2502   \u2514\u2500\u2500 CameraTest.cpp\n\u2502   \u251c\u2500\u2500 rendering/      # Rendering tests\n\u2502   \u2502   \u251c\u2500\u2500 MaterialTest.cpp\n\u2502   \u2502   \u2514\u2500\u2500 RenderPassTest.cpp\n\u2502   \u251c\u2500\u2500 input/          # Input system tests\n\u2502   \u2502   \u2514\u2500\u2500 InputManagerTest.cpp\n\u2502   \u2514\u2500\u2500 util/           # Utility tests\n\u2502       \u251c\u2500\u2500 GuidTest.cpp\n\u2502       \u2514\u2500\u2500 LoggerTest.cpp\n\u2514\u2500\u2500 ext/                # External library tests\n    \u2514\u2500\u2500 glfw/\n"})}),"\n",(0,i.jsx)(s.h2,{id:"continuous-integration",children:"Continuous Integration"}),"\n",(0,i.jsx)(s.p,{children:"Tests run automatically on every push and pull request via GitHub Actions. The workflow tests on:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Windows"})," (MSVC) - Debug & Release"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Linux"})," (GCC 13 & Clang 17) - Debug & Release"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"macOS"})," (Apple Clang) - Debug & Release"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"https://github.com/thorstensuckow/helios/blob/main/.github/workflows/tests.yml",children:"Test Workflow"})," for the complete CI configuration."]}),"\n",(0,i.jsx)(s.h3,{id:"workflow-triggers",children:"Workflow Triggers"}),"\n",(0,i.jsx)(s.p,{children:"The test workflow runs when:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Code is pushed to ",(0,i.jsx)(s.code,{children:"main"})," or ",(0,i.jsx)(s.code,{children:"develop"})," branches"]}),"\n",(0,i.jsxs)(s.li,{children:["Pull requests are created targeting ",(0,i.jsx)(s.code,{children:"main"})," or ",(0,i.jsx)(s.code,{children:"develop"})]}),"\n",(0,i.jsxs)(s.li,{children:["Changes are made to source files (",(0,i.jsx)(s.code,{children:"src/"}),", ",(0,i.jsx)(s.code,{children:"include/"}),", ",(0,i.jsx)(s.code,{children:"tests/"}),")"]}),"\n",(0,i.jsx)(s.li,{children:"CMake configuration is modified"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"viewing-test-results",children:"Viewing Test Results"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Go to the ",(0,i.jsx)(s.a,{href:"https://github.com/thorstensuckow/helios/actions",children:"Actions tab"})," in the GitHub repository"]}),"\n",(0,i.jsx)(s.li,{children:"Click on a workflow run to see detailed results"}),"\n",(0,i.jsx)(s.li,{children:"Failed tests will show error logs and stack traces"}),"\n",(0,i.jsx)(s.li,{children:"Test artifacts are uploaded for failed builds"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"writing-tests",children:"Writing Tests"}),"\n",(0,i.jsxs)(s.p,{children:["If you're contributing to helios, please include tests for new features and bug fixes. See the ",(0,i.jsx)(s.a,{href:"/docs/contributing/guide",children:"Contributing Guide"})," for guidelines on writing tests."]}),"\n",(0,i.jsx)(s.h3,{id:"test-framework",children:"Test Framework"}),"\n",(0,i.jsxs)(s.p,{children:["helios uses ",(0,i.jsx)(s.strong,{children:"Google Test (gtest)"})," for unit testing. Example:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cpp",children:'#include <gtest/gtest.h>\n#include "helios/math/Vector3.h"\n\nTEST(Vector3Test, Addition) {\n    helios::math::Vector3f a(1.0f, 2.0f, 3.0f);\n    helios::math::Vector3f b(4.0f, 5.0f, 6.0f);\n    \n    auto result = a + b;\n    \n    EXPECT_FLOAT_EQ(result.x, 5.0f);\n    EXPECT_FLOAT_EQ(result.y, 7.0f);\n    EXPECT_FLOAT_EQ(result.z, 9.0f);\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(s.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Tests not found:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Make sure you're in the build directory\ncd build\nctest -N  # List all tests\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"CMake configuration errors:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Reconfigure and rebuild\ncmake -S . -B build -DCMAKE_BUILD_TYPE=Release\ncmake --build build --config Release\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Missing test executables:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Rebuild the project\ncmake --build build --config Release --target all\n"})}),"\n",(0,i.jsx)(s.h3,{id:"platform-specific-issues",children:"Platform-Specific Issues"}),"\n",(0,i.jsx)(s.h4,{id:"windows-1",children:"Windows"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Ensure you specify the configuration (",(0,i.jsx)(s.code,{children:"-C Release"})," or ",(0,i.jsx)(s.code,{children:"-C Debug"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:["Test executables are in ",(0,i.jsx)(s.code,{children:"build/tests/.../Release/"})," or ",(0,i.jsx)(s.code,{children:"Debug/"})]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"linux",children:"Linux"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ldd"})," to check for missing shared libraries:\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ldd ./tests/helios/math/Vector3Test\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"./getting-started",children:"Getting Started"})," - Initial setup and build instructions"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/contributing/guide",children:"Contributing Guide"})," - How to contribute tests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/docs/api/overview",children:"API Reference"})," - Detailed API documentation"]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>d});var t=n(96540);const i={},l=t.createContext(i);function r(e){const s=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:s},e.children)}}}]);