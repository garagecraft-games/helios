"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8881],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var s=i(96540);const l={},d=s.createContext(l);function o(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(d.Provider,{value:n},e.children)}},87414:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"contributing/styleguide","title":"Code Style Guide","description":"Coding style, modules, naming, formatting and logging conventions for helios.","source":"@site/docs/contributing/styleguide.md","sourceDirName":"contributing","slug":"/contributing/styleguide","permalink":"/docs/contributing/styleguide","draft":false,"unlisted":false,"editUrl":"https://github.com/thorstensuckow/helios/tree/main/website/docs/contributing/styleguide.md","tags":[{"inline":true,"label":"style","permalink":"/docs/tags/style"},{"inline":true,"label":"coding","permalink":"/docs/tags/coding"}],"version":"current","frontMatter":{"title":"Code Style Guide","description":"Coding style, modules, naming, formatting and logging conventions for helios.","slug":"/contributing/styleguide","sidebar_label":"Code Style","tags":["style","coding"],"keywords":["helios","cpp","styleguide","formatting","modules"]},"sidebar":"tutorialSidebar","previous":{"title":"Changelog Guide","permalink":"/docs/contributing/changelog-guide"},"next":{"title":"Doxygen Style","permalink":"/docs/contributing/doxygen-style"}}');var l=i(74848),d=i(28453);const o={title:"Code Style Guide",description:"Coding style, modules, naming, formatting and logging conventions for helios.",slug:"/contributing/styleguide",sidebar_label:"Code Style",tags:["style","coding"],keywords:["helios","cpp","styleguide","formatting","modules"]},r="helios Code Style Guide",c={},t=[{value:"Quick summary",id:"quick-summary",level:3},{value:"Modules / file formats",id:"modules--file-formats",level:3},{value:"Module facades and partitions",id:"module-facades-and-partitions",level:3},{value:"Imports / includes / ordering",id:"imports--includes--ordering",level:3},{value:"Namespaces",id:"namespaces",level:3},{value:"Class and member conventions",id:"class-and-member-conventions",level:3},{value:"Syntax and formatting",id:"syntax-and-formatting",level:3},{value:"Attributes and qualifiers",id:"attributes-and-qualifiers",level:3},{value:"Logging",id:"logging",level:3},{value:"Documentation",id:"documentation",level:3},{value:"Tests, examples, benchmarks",id:"tests-examples-benchmarks",level:3},{value:"Do&#39;s and Don&#39;ts (project-specific)",id:"dos-and-donts-project-specific",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"helios-code-style-guide",children:"helios Code Style Guide"})}),"\n",(0,l.jsxs)(n.p,{children:["This document summarizes the coding style and module organization conventions used in the ",(0,l.jsx)(n.code,{children:"helios"})," project. It is intended to ensure consistency and maintainability across the codebase."]}),"\n",(0,l.jsx)(n.h3,{id:"quick-summary",children:"Quick summary"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use C++23 modules (.ixx for interface/export, .cpp for implementation units) where appropriate."}),"\n",(0,l.jsxs)(n.li,{children:["Filenames should reflect module and type names (PascalCase for modules/types, e.g. ",(0,l.jsx)(n.code,{children:"Window.ixx"})," / ",(0,l.jsx)(n.code,{children:"Window.cpp"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Namespace hierarchies mirror module paths (e.g. ",(0,l.jsx)(n.code,{children:"helios::window"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Getters should be ",(0,l.jsx)(n.code,{children:"[[nodiscard]]"}),"; methods that do not throw should be ",(0,l.jsx)(n.code,{children:"noexcept"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Member variables end with ",(0,l.jsx)(n.code,{children:"_"})," (e.g. ",(0,l.jsx)(n.code,{children:"width_"}),")."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"modules--file-formats",children:"Modules / file formats"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Interface files (exported modules) live under ",(0,l.jsx)(n.code,{children:"include/helios/..."})," and use the ",(0,l.jsx)(n.code,{children:".ixx"})," extension (e.g. ",(0,l.jsx)(n.code,{children:"include/helios/window/Window.ixx"}),").\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Structure of an interface file:\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Global module fragment (optional) with ",(0,l.jsx)(n.code,{children:"module;"})," and any required ",(0,l.jsx)(n.code,{children:"#include"})," directives for standard/third-party headers."]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"export module helios.<...>.<Name>;"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import"})," statements for dependent modules."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"export"}),"ed types/namespaces the module exposes."]}),"\n",(0,l.jsx)(n.li,{children:"Doxygen comments for the public API."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Implementation/module units typically live under ",(0,l.jsx)(n.code,{children:"src/helios/..."})," as ",(0,l.jsx)(n.code,{children:".cpp"})," files and are module implementation units:\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Start with ",(0,l.jsx)(n.code,{children:"module;"})," (global fragment if needed), followed by ",(0,l.jsx)(n.code,{children:"module helios.<...>.<Name>;"})," (without ",(0,l.jsx)(n.code,{children:"export"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import"})," statements for required modules."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Filename convention: PascalCase for module/type files (e.g. ",(0,l.jsx)(n.code,{children:"Window.ixx"}),", ",(0,l.jsx)(n.code,{children:"Window.cpp"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Module names reflect the path: ",(0,l.jsx)(n.code,{children:"helios.window.Window"})," corresponds to ",(0,l.jsx)(n.code,{children:"include/helios/window/Window.ixx"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"module-facades-and-partitions",children:"Module facades and partitions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Module facades are prefixed with an underscore ",(0,l.jsx)(n.code,{children:"_"})," (e.g. ",(0,l.jsx)(n.code,{children:"_module.ixx"})," or ",(0,l.jsx)(n.code,{children:"_window"})," facades). They collect or re-export partitions of a subsystem."]}),"\n",(0,l.jsxs)(n.li,{children:["A module facade ",(0,l.jsx)(n.strong,{children:"MUST NOT"})," export lower-level modules - modules should only export their own partitions. (Existing rule kept.)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"imports--includes--ordering",children:"Imports / includes / ordering"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Prefer ",(0,l.jsx)(n.code,{children:"import"})," for internal project modules. Use ",(0,l.jsx)(n.code,{children:"#include"})," only when a module is not available (e.g. external C headers)."]}),"\n",(0,l.jsxs)(n.li,{children:["Recommended order in a file:\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Global module fragment: ",(0,l.jsx)(n.code,{children:"module;"})," + ",(0,l.jsx)(n.code,{children:"#include"})," directives (if needed)"]}),"\n",(0,l.jsxs)(n.li,{children:["Module declaration: ",(0,l.jsx)(n.code,{children:"export module ...;"})," (interface) or ",(0,l.jsx)(n.code,{children:"module ...;"})," (implementation)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"import"})," statements"]}),"\n",(0,l.jsxs)(n.li,{children:["Macros / ",(0,l.jsx)(n.code,{children:"#define"})," constants (only if unavoidable)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"namespace"})," block with code"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Example (interface):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"module;\n#include <string>\nexport module helios.window.Window;\nimport helios.util.Guid;\nexport namespace helios::window { ... }\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example (implementation):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"module;\n#include <string>\nmodule helios.window.Window;\nimport helios.util.Guid;\nnamespace helios::window { ... }\n"})}),"\n",(0,l.jsx)(n.h3,{id:"namespaces",children:"Namespaces"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use the nested short notation ",(0,l.jsx)(n.code,{children:"helios::sub::..."})," (as used throughout the code), not flat or global namespaces."]}),"\n",(0,l.jsx)(n.li,{children:"Namespaces should reflect module paths."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"class-and-member-conventions",children:"Class and member conventions"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Type names: PascalCase (e.g. ",(0,l.jsx)(n.code,{children:"Window"}),", ",(0,l.jsx)(n.code,{children:"Guid"}),", ",(0,l.jsx)(n.code,{children:"SceneNode"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Method and variable names: lowerCamelCase (e.g. ",(0,l.jsx)(n.code,{children:"shouldClose()"}),", ",(0,l.jsx)(n.code,{children:"swapBuffers()"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Private/protected members end with ",(0,l.jsx)(n.code,{children:"_"})," (e.g. ",(0,l.jsx)(n.code,{children:"width_"}),", ",(0,l.jsx)(n.code,{children:"guid_"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Recommended access order inside a class:\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"private"}),"\n",(0,l.jsx)(n.li,{children:"protected"}),"\n",(0,l.jsx)(n.li,{children:"public"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Constructors with a single parameter should be ",(0,l.jsx)(n.code,{children:"explicit"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"override"})," for overridden virtual methods."]}),"\n",(0,l.jsxs)(n.li,{children:["Virtual destructors in base classes: ",(0,l.jsx)(n.code,{children:"virtual ~ClassName() = default;"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Getters that return a value or reference ",(0,l.jsx)(n.strong,{children:"should"})," be ",(0,l.jsx)(n.code,{children:"[[nodiscard]]"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Functions that do not throw should be marked ",(0,l.jsx)(n.code,{children:"noexcept"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"syntax-and-formatting",children:"Syntax and formatting"}),"\n",(0,l.jsx)(n.p,{children:"This project follows a consistent C++ syntax and formatting style to improve readability and reduce churn in reviews. Follow these concrete rules:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Braces: opening brace on the same line as the declaration, for statements and definitions:\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"if (condition) {"})," not\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"if (condition)\n{\n}\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Indentation: 4 spaces per indent level. Do not use tabs."}),"\n",(0,l.jsxs)(n.li,{children:["Spaces: Put a single space after keywords and before parentheses where appropriate: ",(0,l.jsx)(n.code,{children:"if ("}),", ",(0,l.jsx)(n.code,{children:"for ("}),", ",(0,l.jsx)(n.code,{children:"while ("}),". Use a single space around binary operators: ",(0,l.jsx)(n.code,{children:"a + b"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Line length: Prefer <= 100 characters. Break long expressions across multiple indented lines (see initializer list example)."}),"\n",(0,l.jsx)(n.li,{children:"Blank lines: Separate logical sections (e.g. between method definitions, between groups of members) with a single blank line."}),"\n",(0,l.jsx)(n.li,{children:"Trailing whitespace: Avoid any trailing whitespace on lines."}),"\n",(0,l.jsxs)(n.li,{children:["Header/include order in module fragments: ",(0,l.jsx)(n.code,{children:"module;"}),", then ",(0,l.jsx)(n.code,{children:"#include"}),"s, then ",(0,l.jsx)(n.code,{children:"export module"})," / ",(0,l.jsx)(n.code,{children:"module"})," declaration, then ",(0,l.jsx)(n.code,{children:"import"}),"s."]}),"\n",(0,l.jsxs)(n.li,{children:["Comments: Prefer concise ",(0,l.jsx)(n.code,{children:"//"})," comments for short notes, and ",(0,l.jsx)(n.code,{children:"/** ... */"})," Doxygen comments for public API elements."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Code examples (use these as canonical examples):"}),"\n",(0,l.jsx)(n.p,{children:"Module interface (public API example)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"// include/helios/window/Window.ixx\nmodule;\n#include <string>\n\nexport module helios.window.Window;\n\nimport helios.util.Guid;\n\nexport namespace helios::window {\n\nclass Window {\npublic:\n    explicit Window(const WindowConfig& cfg);\n\n    [[nodiscard]] const util::Guid& guid() const noexcept;\n\n    virtual bool show() noexcept = 0;\n    virtual void swapBuffers() const noexcept = 0;\n\n    virtual ~Window() = default;\n};\n\n} // namespace helios::window\n"})}),"\n",(0,l.jsx)(n.p,{children:"Implementation (definition / initializer list example)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"// src/helios/window/Window.cpp\nmodule;\n#include <string>\n\nmodule helios.window.Window;\n\nimport helios.util.Guid;\n\nnamespace helios::window {\n\n    Window::Window(const WindowConfig& cfg)\n        : width_(cfg.width),\n          height_(cfg.height),\n          title_(cfg.title),\n          viewport_(cfg.viewport),\n          guid_(util::Guid::generate()) {\n    }\n    \n    [[nodiscard]] const util::Guid& Window::guid() const noexcept {\n        return guid_;\n    }\n\n} // namespace helios::window\n"})}),"\n",(0,l.jsx)(n.p,{children:"Brace and spacing examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// preferred\nif (shouldClose()) {\n    logger_.info("Window requested close");\n}\n\n// not preferred\nif (shouldClose())\n{\n    logger_.info("Window requested close");\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"Override example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"class GlfwWindow : public Window {\npublic:\n    bool show() noexcept override;\n    void swapBuffers() const noexcept override;\n};\n"})}),"\n",(0,l.jsx)(n.p,{children:"Logging macro usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'#define HELIOS_LOG_SCOPE "helios::window::Window"\nconst helios::util::log::Logger& logger_ =\n    helios::util::log::LogManager::getInstance().registerLogger(HELIOS_LOG_SCOPE);\n'})}),"\n",(0,l.jsx)(n.p,{children:"Splitter / comment for namespace end"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"} // namespace helios::window\n"})}),"\n",(0,l.jsx)(n.h3,{id:"attributes-and-qualifiers",children:"Attributes and qualifiers"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"[[nodiscard]]"})," for all value- or status-returning getters."]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"noexcept"})," for methods that are guaranteed not to throw (e.g. ",(0,l.jsx)(n.code,{children:"guid() const noexcept"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://isocpp.org/wiki/faq/const-correctness",children:"Const-correctness"})," is mandatory for methods that do not modify object state."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"logging",children:"Logging"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Pattern used in the project:\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Define a macro scope at the top of the interface file (",(0,l.jsx)(n.code,{children:'#define HELIOS_LOG_SCOPE "helios::window::Window"'}),")."]}),"\n",(0,l.jsx)(n.li,{children:"Logger instance as a protected member:\nconst helios::util::log::Logger& logger_ = helios::util::log::LogManager::getInstance().registerLogger(HELIOS_LOG_SCOPE);"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"LogManager::getInstance()"})," centrally; the scope should always contain the fully qualified module/type package."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"documentation",children:"Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Public API must include Doxygen comments (in the interface ",(0,l.jsx)(n.code,{children:".ixx"}),")."]}),"\n",(0,l.jsx)(n.li,{children:"Provide a short description, parameters, return values, and notes about side effects or threading when applicable."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tests-examples-benchmarks",children:"Tests, examples, benchmarks"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Tests live under ",(0,l.jsx)(n.code,{children:"tests/helios/..."}),", benchmarks under ",(0,l.jsx)(n.code,{children:"benchmarks/helios/..."}),", and examples under ",(0,l.jsx)(n.code,{children:"examples/"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Tests should import modules the same way production code does and follow the same naming conventions."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"dos-and-donts-project-specific",children:"Do's and Don'ts (project-specific)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Do: Use modules (",(0,l.jsx)(n.code,{children:".ixx"}),") for public-facing APIs."]}),"\n",(0,l.jsx)(n.li,{children:"Do: Export only the actual API from an interface file."}),"\n",(0,l.jsxs)(n.li,{children:["Do: Keep the member naming suffix ",(0,l.jsx)(n.code,{children:"_"})," and use ",(0,l.jsx)(n.code,{children:"[[nodiscard]]"})," / ",(0,l.jsx)(n.code,{children:"noexcept"})," where appropriate."]}),"\n",(0,l.jsx)(n.li,{children:"Don't: Use global namespaces or unqualified logger scopes."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);